"""
Autogenerated input type of AbandonSession
"""
input AbandonSessionInput {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  The ID of the session to abandon
  """
  sessionId: ID!
}

"""
Autogenerated return type of AbandonSession.
"""
type AbandonSessionPayload {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  The abandoned session with updated status
  """
  session: OnboardingSession!

  """
  Indicates if the abandonment was successful
  """
  success: Boolean!
}

"""
Appointment information
"""
type Appointment {
  """
  Whether appointment can be cancelled
  """
  cancellable: Boolean!

  """
  Reason for cancellation
  """
  cancellationReason: String

  """
  When appointment was cancelled
  """
  cancelledAt: ISO8601DateTime

  """
  Confirmation number for appointment
  """
  confirmationNumber: String!

  """
  When appointment was confirmed
  """
  confirmedAt: ISO8601DateTime

  """
  When appointment was created
  """
  createdAt: ISO8601DateTime!

  """
  Duration in minutes
  """
  durationMinutes: Int!

  """
  Unique identifier
  """
  id: ID!

  """
  Location type (virtual or in_person)
  """
  locationType: String!

  """
  Associated onboarding session ID
  """
  onboardingSessionId: ID!

  """
  Whether appointment can be rescheduled
  """
  reschedulable: Boolean!

  """
  Scheduled date and time
  """
  scheduledAt: ISO8601DateTime!

  """
  Appointment status (scheduled, confirmed, cancelled, completed, no_show)
  """
  status: String!

  """
  Therapist for this appointment
  """
  therapist: Therapist!

  """
  When appointment was last updated
  """
  updatedAt: ISO8601DateTime!

  """
  Virtual meeting link for online appointments
  """
  virtualLink: String
}

"""
Mental health screening assessment (PHQ-A, GAD-7)
"""
type Assessment {
  """
  Assessment mode (conversational or legacy)
  """
  assessmentMode: String

  """
  Number of completed questions
  """
  completedQuestionsCount: Int!

  """
  Whether consent was given
  """
  consentGiven: Boolean!

  """
  When assessment was started
  """
  createdAt: ISO8601DateTime!

  """
  Current instrument being administered
  """
  currentInstrument: String

  """
  Whether GAD-7 is complete
  """
  gad7Complete: Boolean!

  """
  GAD-7 anxiety score (0-21)
  """
  gad7Score: Int

  """
  Unique identifier
  """
  id: ID!

  """
  Next question identifier
  """
  nextQuestionId: String

  """
  Whether PHQ-A is complete
  """
  phqAComplete: Boolean!

  """
  PHQ-A depression score (0-27)
  """
  phqAScore: Int

  """
  Completion percentage (0-100)
  """
  progressPercentage: Int!

  """
  Assessment responses (encrypted PHI)
  """
  responses: JSON!

  """
  Identified risk flags
  """
  riskFlags: [String!]!

  """
  Combined assessment score (0-100)
  """
  score: Int

  """
  Assessment status (not_started, in_progress, complete)
  """
  status: String!

  """
  AI-generated clinical summary (encrypted PHI)
  """
  summary: String

  """
  Total questions (16)
  """
  totalQuestionsCount: Int!

  """
  When assessment was last updated
  """
  updatedAt: ISO8601DateTime!
}

"""
Assessment progress information
"""
type AssessmentProgress {
  """
  Number of completed questions
  """
  completedQuestions: Int!

  """
  Current phase (not_started, phq_a, gad_7, complete)
  """
  currentPhase: String!

  """
  Whether GAD-7 is complete
  """
  gad7Complete: Boolean!

  """
  Progress percentage (0-100)
  """
  percentage: Int!

  """
  Whether PHQ-A is complete
  """
  phqAComplete: Boolean!

  """
  Assessment status (not_started, in_progress, complete)
  """
  status: String!

  """
  Total questions (16)
  """
  totalQuestions: Int!
}

"""
A screening assessment question
"""
type AssessmentQuestion {
  """
  Clinical domain (e.g., anhedonia, anxious)
  """
  domain: String!

  """
  Question ID (e.g., phq_a_1)
  """
  id: String!

  """
  Instrument name (PHQ-A or GAD-7)
  """
  instrument: String!

  """
  Item number (1-9 for PHQ-A, 1-7 for GAD-7)
  """
  item: Int!

  """
  Question text
  """
  text: String!
}

"""
Autogenerated return type of AssessmentUpdated.
"""
type AssessmentUpdatedPayload {
  """
  Completed questions
  """
  completedQuestionsCount: Int!

  """
  Current instrument
  """
  currentInstrument: String

  """
  GAD-7 complete
  """
  gad7Complete: Boolean!

  """
  GAD-7 score (when complete)
  """
  gad7Score: Int

  """
  Assessment ID
  """
  id: ID!

  """
  Next question ID
  """
  nextQuestionId: String

  """
  PHQ-A complete
  """
  phqAComplete: Boolean!

  """
  PHQ-A score (when complete)
  """
  phqAScore: Int

  """
  Completion percentage
  """
  progressPercentage: Int!

  """
  Assessment status
  """
  status: String!

  """
  Total questions
  """
  totalQuestionsCount: Int!
}

"""
A date with its available time slots
"""
type AvailableDate {
  """
  The date (YYYY-MM-DD)
  """
  date: ISO8601Date!

  """
  Whether there are any available slots on this date
  """
  hasAvailability: Boolean!

  """
  List of available time slots for this date
  """
  slots: [AvailableSlot!]!
}

"""
An available appointment time slot
"""
type AvailableSlot {
  """
  End time of the slot
  """
  endTime: ISO8601DateTime!

  """
  Unique identifier for the slot (formatted as therapist_id-datetime)
  """
  id: ID!

  """
  Whether the slot is currently available for booking
  """
  isAvailable: Boolean!

  """
  Start time of the slot
  """
  startTime: ISO8601DateTime!

  """
  Timezone of the slot times
  """
  timezone: String!
}

"""
Autogenerated input type of BookAppointment
"""
input BookAppointmentInput {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  Duration in minutes (defaults to therapist default)
  """
  durationMinutes: Int

  """
  Appointment date and time
  """
  scheduledAt: ISO8601DateTime!

  """
  Onboarding session ID (with or without sess_ prefix)
  """
  sessionId: ID!

  """
  Therapist ID
  """
  therapistId: ID!
}

"""
Autogenerated return type of BookAppointment.
"""
type BookAppointmentPayload {
  """
  Created appointment
  """
  appointment: Appointment

  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  Errors encountered during booking
  """
  errors: [String!]!

  """
  Whether booking was successful
  """
  success: Boolean!
}

"""
Autogenerated input type of CancelAppointment
"""
input CancelAppointmentInput {
  """
  Appointment ID to cancel
  """
  appointmentId: ID!

  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  Reason for cancellation
  """
  reason: String
}

"""
Autogenerated return type of CancelAppointment.
"""
type CancelAppointmentPayload {
  """
  Cancelled appointment
  """
  appointment: Appointment

  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  Errors encountered during cancellation
  """
  errors: [String!]!

  """
  Whether cancellation was successful
  """
  success: Boolean!
}

"""
Child information
"""
type Child {
  """
  Child age calculated from date of birth
  """
  age: Int

  """
  When record was created
  """
  created_at: ISO8601DateTime!

  """
  Child date of birth in ISO 8601 format (encrypted)
  """
  date_of_birth: String!

  """
  Child first name (encrypted)
  """
  first_name: String!

  """
  Child gender (optional)
  """
  gender: String

  """
  Child current grade level (optional)
  """
  grade: String

  """
  Unique identifier
  """
  id: ID!

  """
  Child last name (encrypted)
  """
  last_name: String!

  """
  Primary concerns in parent own words (encrypted)
  """
  primary_concerns: String

  """
  Name of child school (optional)
  """
  school_name: String

  """
  When record was last updated
  """
  updated_at: ISO8601DateTime!
}

"""
Input for submitting child information
"""
input ChildInput {
  """
  Child's date of birth in ISO 8601 format (YYYY-MM-DD)
  """
  date_of_birth: String!

  """
  Child's first name
  """
  first_name: String!

  """
  Child's gender (optional)
  """
  gender: String

  """
  Child's current grade level (optional)
  """
  grade: String

  """
  Child's last name
  """
  last_name: String!

  """
  Primary concerns in parent's own words (optional)
  """
  primary_concerns: String

  """
  Name of child's school (optional)
  """
  school_name: String
}

"""
Comparison table row showing insurance vs. self-pay
"""
type ComparisonRow {
  """
  Whether to highlight self-pay as the better value for this row
  """
  highlightSelfPay: Boolean!

  """
  Insurance cost for this item (null if not applicable)
  """
  insuranceValue: String

  """
  Row label (e.g., 'Per Session Cost')
  """
  label: String!

  """
  Self-pay cost for this item
  """
  selfPayValue: String!
}

"""
Autogenerated input type of CompleteAssessment
"""
input CompleteAssessmentInput {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  Force transition even if some prerequisites are missing (for testing)
  """
  force: Boolean = false

  """
  The session ID
  """
  sessionId: ID!
}

"""
Autogenerated return type of CompleteAssessment.
"""
type CompleteAssessmentPayload {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String
  errors: [String!]!
  session: OnboardingSession
  success: Boolean!
}

"""
Support contact options for parents requesting human assistance
"""
type ContactOptions {
  """
  Chat availability hours with timezone
  """
  chatHours: String!

  """
  Support email address
  """
  email: String!

  """
  Support phone number
  """
  phone: String!
}

"""
A cost adjustment line item (fee, modifier, tax, or discount)
"""
type CostAdjustment {
  """
  Dollar amount of adjustment (positive for fees, negative for discounts)
  """
  amount: Float!

  """
  Human-readable description of the adjustment
  """
  description: String!

  """
  Percentage value if adjustment is percentage-based (e.g., 20 for 20%)
  """
  percentage: Float

  """
  Adjustment type (duration_modifier, therapist_tier, special_service, tax, discount)
  """
  type: String!
}

"""
Cost calculation breakdown for a therapy session
"""
type CostBreakdown {
  """
  Array of cost adjustments (fees, modifiers, taxes, discounts)
  """
  adjustments: [CostAdjustment!]!

  """
  Timestamp when calculation was performed
  """
  calculatedAt: ISO8601DateTime!

  """
  Currency code (e.g., USD)
  """
  currency: String!

  """
  Whether the provided discount code was invalid (for user feedback)
  """
  discountCodeInvalid: Boolean

  """
  Base cost before any adjustments
  """
  grossCost: Float!

  """
  Additional calculation metadata (service_type, duration, etc.)
  """
  metadata: JSON

  """
  Final cost after all adjustments
  """
  netCost: Float!
}

"""
Cost comparison between insurance and self-pay options
"""
type CostComparison {
  """
  Side-by-side comparison rows
  """
  comparisonTable: [ComparisonRow!]!

  """
  True when self-pay is the better option
  """
  highlightSelfPay: Boolean!

  """
  Insurance cost estimate (null if insurance not verified)
  """
  insuranceEstimate: InsuranceEstimate

  """
  Personalized recommendation based on situation
  """
  recommendation: String

  """
  Positive amount if self-pay is cheaper
  """
  savingsIfSelfPay: Float

  """
  Self-pay cost estimate (always available)
  """
  selfPayEstimate: SelfPayEstimate!
}

"""
Cost estimate for therapy session based on insurance coverage
"""
type CostEstimate {
  """
  Allowed amount (contracted rate) for the service in USD
  """
  allowedAmount: Float!

  """
  Provider's standard billed amount in USD
  """
  billedAmount: Float!

  """
  When this estimate was calculated
  """
  calculatedAt: ISO8601DateTime!

  """
  Array of limitation messages (session limits, prior auth, etc.)
  """
  coverageLimitations: [String!]!

  """
  Current deductible status information
  """
  deductibleStatus: DeductibleStatus!

  """
  Standard disclaimer text explaining this is an estimate only
  """
  disclaimer: String!

  """
  Estimated amount insurance will pay in USD
  """
  insurancePays: Float!

  """
  Always true - indicates this is an estimate, not a guarantee
  """
  isEstimate: Boolean!

  """
  Estimated patient out-of-pocket responsibility in USD
  """
  patientPays: Float!
}

"""
Insurance coverage details for verified plans
"""
type CoverageDetails {
  """
  Coinsurance percentage, e.g., 20 for 20%
  """
  coinsurance: Int

  """
  Copay amount formatted as currency, e.g., '$25 per visit'
  """
  copayAmount: String

  """
  Deductible amount with met status, e.g., '$500 ($100 met)'
  """
  deductible: String

  """
  Coverage effective date
  """
  effectiveDate: String

  """
  List of covered services
  """
  servicesCovered: [String!]!
}

"""
Autogenerated input type of CreateAvailability
"""
input CreateAvailabilityInput {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  Day of week (0=Sunday, 1=Monday, ..., 6=Saturday)
  """
  dayOfWeek: Int!

  """
  End time (HH:MM format, e.g., 17:00)
  """
  endTime: String!

  """
  Whether this is a recurring weekly availability
  """
  isRepeating: Boolean = true

  """
  Start time (HH:MM format, e.g., 09:00)
  """
  startTime: String!

  """
  ID of the therapist
  """
  therapistId: ID!

  """
  IANA timezone (e.g., America/Los_Angeles)
  """
  timezone: String!
}

"""
Autogenerated return type of CreateAvailability.
"""
type CreateAvailabilityPayload {
  """
  The created availability slot
  """
  availability: TherapistAvailability

  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  List of validation errors, if any
  """
  errors: [String!]!
}

"""
Autogenerated return type of CreateSession.
"""
type CreateSessionPayload {
  """
  Refresh token for obtaining new access tokens
  """
  refreshToken: String
  session: OnboardingSession!
  token: String!
}

"""
Autogenerated input type of CreateTherapist
"""
input CreateTherapistInput {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  Therapist profile data
  """
  input: TherapistInput!
}

"""
Autogenerated return type of CreateTherapist.
"""
type CreateTherapistPayload {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  Validation errors if any
  """
  errors: [String!]!

  """
  Whether creation was successful
  """
  success: Boolean!

  """
  Created therapist
  """
  therapist: Therapist
}

"""
Autogenerated input type of CreateTimeOff
"""
input CreateTimeOffInput {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  End date of time-off
  """
  endDate: ISO8601Date!

  """
  Optional reason for time-off (e.g., vacation, conference)
  """
  reason: String

  """
  Start date of time-off
  """
  startDate: ISO8601Date!

  """
  ID of the therapist
  """
  therapistId: ID!
}

"""
Autogenerated return type of CreateTimeOff.
"""
type CreateTimeOffPayload {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  List of validation errors, if any
  """
  errors: [String!]!

  """
  The created time-off period
  """
  timeOff: TherapistTimeOff
}

"""
Detailed deductible and out-of-pocket tracking information
"""
type DeductibleStatus {
  """
  Total annual deductible amount in USD
  """
  amount: Float!

  """
  Source of deductible data: 'eligibility_api', 'manual_override', or 'cached'
  """
  dataSource: String

  """
  Total annual deductible amount in dollars (alias for 'amount')
  """
  deductibleAmount: Float

  """
  Amount of deductible already met this plan year (alias for 'met')
  """
  deductibleMet: Float

  """
  Amount of deductible still owed before insurance covers services (alias for 'remaining')
  """
  deductibleRemaining: Float

  """
  Whether this is a family plan (true) or individual plan (false)
  """
  isFamilyPlan: Boolean

  """
  Whether the deductible has been fully met
  """
  isMet: Boolean!

  """
  When deductible data was last updated from eligibility check
  """
  lastUpdatedAt: ISO8601DateTime

  """
  Amount of deductible met so far this year in USD
  """
  met: Float!

  """
  Total annual out-of-pocket maximum in dollars
  """
  oopMaxAmount: Float

  """
  Amount already spent toward out-of-pocket maximum
  """
  oopMet: Float

  """
  Percentage of out-of-pocket maximum met (0-100)
  """
  oopProgressPercentage: Int

  """
  Amount remaining before out-of-pocket maximum is reached
  """
  oopRemaining: Float

  """
  Percentage of deductible met (0-100) for visual progress indicator
  """
  progressPercentage: Int

  """
  Amount of deductible remaining to be met in USD
  """
  remaining: Float!

  """
  Estimated number of therapy sessions until deductible is fully met
  """
  sessionsUntilDeductibleMet: Int

  """
  Date when deductible and OOP max will reset for new plan year
  """
  yearResetDate: ISO8601DateTime
}

"""
Autogenerated input type of DeleteAvailability
"""
input DeleteAvailabilityInput {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  ID of the availability slot to delete
  """
  id: ID!
}

"""
Autogenerated return type of DeleteAvailability.
"""
type DeleteAvailabilityPayload {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  List of errors, if any
  """
  errors: [String!]!

  """
  Whether the deletion was successful
  """
  success: Boolean!
}

"""
Autogenerated input type of DeleteTherapist
"""
input DeleteTherapistInput {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  Therapist ID to delete
  """
  id: ID!
}

"""
Autogenerated return type of DeleteTherapist.
"""
type DeleteTherapistPayload {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  Errors if any
  """
  errors: [String!]!

  """
  Whether deletion was successful
  """
  success: Boolean!
}

"""
Autogenerated input type of DeleteTimeOff
"""
input DeleteTimeOffInput {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  ID of the time-off period to delete
  """
  id: ID!
}

"""
Autogenerated return type of DeleteTimeOff.
"""
type DeleteTimeOffPayload {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  List of errors, if any
  """
  errors: [String!]!

  """
  Whether the deletion was successful
  """
  success: Boolean!
}

"""
Education and degree information
"""
type Education {
  """
  Degree name (e.g., 'Master of Science in Clinical Psychology')
  """
  degree: String!

  """
  Educational institution name
  """
  institution: String!

  """
  Year degree was obtained
  """
  year: Int
}

"""
A field-level validation error
"""
type FieldError {
  """
  The field name that has the error
  """
  field: String!

  """
  The error message
  """
  message: String!
}

"""
Financial assistance program information
"""
type FinancialAssistance {
  """
  Additional program information and details
  """
  additionalInfo: [String!]

  """
  URL for hardship consideration application
  """
  applicationUrl: String!

  """
  Whether financial assistance program is available
  """
  available: Boolean!

  """
  Program description and information
  """
  description: String!

  """
  Range of available discounts (e.g., '20-75%')
  """
  discountRange: String!

  """
  List of eligibility requirements
  """
  eligibilityCriteria: [String!]!

  """
  Whether sliding scale discounts are available
  """
  slidingScaleAvailable: Boolean!
}

"""
An ISO 8601-encoded date
"""
scalar ISO8601Date @specifiedBy(url: "https://tools.ietf.org/html/rfc3339")

"""
An ISO 8601-encoded datetime
"""
scalar ISO8601DateTime @specifiedBy(url: "https://tools.ietf.org/html/rfc3339")

"""
Insurance information
"""
type Insurance {
  """
  Whether verification can be retried (Story 4.5)
  """
  canRetry: Boolean!

  """
  Whether verification can be retried
  """
  canRetryVerification: Boolean!

  """
  Presigned URL for back card image (15-min expiry)
  """
  cardImageBackUrl: String

  """
  Presigned URL for front card image (15-min expiry)
  """
  cardImageFrontUrl: String

  """
  Coinsurance percentage (0-100)
  """
  coinsurancePercentage: Int

  """
  Copay amount for mental health services (USD)
  """
  copayAmount: Float

  """
  Estimated cost breakdown for therapy session (only available if verified)
  """
  costEstimate(
    """
    Type of service (default: individual_therapy)
    """
    serviceType: String
  ): CostEstimate

  """
  Coverage information for verified insurance
  """
  coverageDetails: CoverageDetails

  """
  Coverage effective date
  """
  coverageEffectiveDate: ISO8601Date

  """
  Coverage termination date
  """
  coverageTerminationDate: ISO8601Date

  """
  When record was created
  """
  createdAt: ISO8601DateTime!

  """
  Deductible amount (USD)
  """
  deductibleAmount: Float

  """
  Deductible amount already met (USD)
  """
  deductibleMet: Float

  """
  Whether member is eligible for coverage
  """
  eligible: Boolean

  """
  Verification error category if failed
  """
  errorCategory: String

  """
  Verification error message if failed
  """
  errorMessage: String

  """
  Group number (encrypted)
  """
  groupNumber: String

  """
  Unique identifier
  """
  id: ID!

  """
  Member ID (encrypted)
  """
  memberId: String

  """
  Whether mental health services are specifically covered
  """
  mentalHealthCovered: Boolean

  """
  Whether OCR extraction needs manual review
  """
  needsReview: Boolean!

  """
  Array of action items for parent
  """
  nextSteps: [String!]!

  """
  Confidence scores for extracted fields
  """
  ocrConfidence: JSON

  """
  Whether OCR data is available for pre-population
  """
  ocrDataAvailable: Boolean!

  """
  OCR processing error if any
  """
  ocrError: JSON

  """
  OCR-extracted field values
  """
  ocrExtracted: JSON

  """
  Fields with low confidence that need review
  """
  ocrLowConfidenceFields: [String!]

  """
  Whether OCR processing has completed
  """
  ocrProcessed: Boolean!

  """
  Insurance payer/company name
  """
  payerName: String

  """
  Policy number (encrypted)
  """
  policyNumber: String

  """
  Number of retry attempts made
  """
  retryAttempts: Int!

  """
  Always available self-pay alternative
  """
  selfPayOption: SelfPayOption!

  """
  Subscriber date of birth (encrypted)
  """
  subscriberDob: String

  """
  Name on insurance policy (encrypted)
  """
  subscriberName: String

  """
  Support contact for complex issues
  """
  supportContact: SupportContact

  """
  When record was last updated
  """
  updatedAt: ISO8601DateTime!

  """
  Plain language explanation of status
  """
  verificationMessage: String

  """
  Verification result details
  """
  verificationResult: JSON

  """
  Status of insurance verification
  """
  verificationStatus: String!

  """
  User-friendly status: Verified, Needs Attention, Unable to Verify
  """
  verificationStatusDisplay: String

  """
  When eligibility was verified
  """
  verifiedAt: ISO8601DateTime

  """
  Detailed explanation of why this status occurred
  """
  whyExplanation: String
}

"""
Insurance-based cost estimate
"""
type InsuranceEstimate {
  """
  Important assumptions and disclaimers
  """
  assumptionNotes: [String!]!

  """
  Explanation of the estimate
  """
  explanation: String!

  """
  Estimated cost per session
  """
  perSessionCost: String!

  """
  Total estimated cost for typical treatment
  """
  totalEstimatedCost: String!
}

"""
Insurance panel information for a therapist
"""
type InsurancePanel {
  """
  Unique identifier
  """
  id: ID!

  """
  Insurance payer name
  """
  insuranceName: String!

  """
  State for this insurance panel
  """
  insuranceState: String

  """
  Line of business (Commercial, Medicaid, etc.)
  """
  lineOfBusiness: String

  """
  Network status (in_network or out_of_network)
  """
  networkStatus: String!
}

"""
Autogenerated return type of InsuranceStatusChanged.
"""
type InsuranceStatusChangedPayload {
  """
  The updated insurance record
  """
  insurance: Insurance!

  """
  Progress updates during eligibility verification
  """
  progress: VerificationProgress
}

"""
PHI-safe onboarding context for Intercom support agents
"""
type IntercomContext {
  """
  Deep link to admin dashboard session view
  """
  adminLink: String!

  """
  Child age in years (calculated, not DOB, PHI-safe)
  """
  childAge: Int

  """
  Error category if has_errors is true (session_expired, ocr_failed, etc.)
  """
  errorType: String

  """
  Whether session has errors or blockers
  """
  hasErrors: Boolean!

  """
  Insurance verification status enum (pending, verified, failed, self_pay)
  """
  insuranceStatus: String

  """
  Current onboarding status (started, in_progress, insurance_pending, etc.)
  """
  onboardingPhase: String!

  """
  Parent first name only (no last name, PHI-safe)
  """
  parentFirstName: String

  """
  Onboarding session CUID identifier
  """
  sessionId: String!
}

"""
Intercom identity verification data for secure widget initialization
"""
type IntercomIdentity {
  """
  Intercom workspace app ID (public, null if not configured)
  """
  appId: String

  """
  Whether Intercom integration is enabled
  """
  enabled: Boolean!

  """
  Session ID used as Intercom user identifier (HIPAA: session ID ONLY, no PHI)
  """
  userId: String!

  """
  Signed JWT token for identity verification (null if disabled)
  """
  userJwt: String
}

"""
Represents untyped JSON
"""
scalar JSON

"""
A reason explaining why a therapist was matched
"""
type MatchReason {
  """
  Optional icon identifier for UI display
  """
  icon: String

  """
  Reason identifier (e.g., 'specialty_match', 'availability')
  """
  id: String!

  """
  Human-readable reason text
  """
  text: String!
}

"""
Breakdown of match score components for transparency
"""
type MatchScoreBreakdown {
  """
  Age range fit score (0-100) - weighted 30%
  """
  ageRangeScore: Int!

  """
  Availability score (0-100) - weighted 20%
  """
  availabilityScore: Int!

  """
  Treatment modality score (0-100) - weighted 10%
  """
  modalityScore: Int!

  """
  Specialization match score (0-100) - weighted 40%
  """
  specializationScore: Int!
}

"""
A therapist with match-specific data for display
"""
type MatchedTherapist {
  """
  Availability status (available, limited, unavailable)
  """
  availabilityStatus: String!

  """
  Human-readable availability text (e.g., 'Available this week')
  """
  availabilityText: String!

  """
  Brief bio or description
  """
  bio: String

  """
  Professional credentials (e.g., 'LMFT', 'PhD', 'LCSW')
  """
  credentials: String!

  """
  Therapist unique identifier
  """
  id: ID!

  """
  Whether this is the best match (top recommendation)
  """
  isBestMatch: Boolean!

  """
  Reasons why this therapist was matched
  """
  matchReasons: [MatchReason!]!

  """
  Match quality score (0-100, higher is better)
  """
  matchScore: Int!

  """
  Full name of the therapist
  """
  name: String!

  """
  Professional photo URL
  """
  photoUrl: String

  """
  Specialty areas (e.g., 'Anxiety', 'Teen Issues', 'ADHD')
  """
  specialties: [String!]!

  """
  Years of professional experience
  """
  yearsOfExperience: Int
}

"""
Chat message in assessment conversation
"""
type Message {
  """
  Message content (encrypted)
  """
  content: String!

  """
  When message was created
  """
  createdAt: ISO8601DateTime!

  """
  Unique identifier
  """
  id: ID!

  """
  Additional message metadata
  """
  metadata: JSON

  """
  Message sender role (user, assistant, system)
  """
  role: String!
}

"""
Autogenerated return type of MessageReceived.
"""
type MessageReceivedPayload {
  """
  Message content
  """
  content: String!

  """
  When message was created
  """
  createdAt: ISO8601DateTime!

  """
  Message ID
  """
  id: ID!

  """
  Additional message metadata
  """
  metadata: JSON

  """
  Message role (user, assistant, system)
  """
  role: String!
}

type Mutation {
  """
  Abandon an onboarding session explicitly.

  The session status will be set to ABANDONED and the session can no longer
  be resumed or updated. All session data is retained per the data retention
  policy (90 days, same as expired sessions).

  **Authorization:** Requires valid session token. Users can only abandon
  their own sessions.

  **Client-side confirmation:** Clients should display a confirmation dialog
  before calling this mutation. Recommended message:

  "Are you sure you want to abandon this session? Your progress will be saved,
  but you won't be able to resume this session. You can start a new session
  at any time."

  **Idempotency:** Calling this mutation on an already abandoned session
  will succeed without error.
  """
  abandonSession(
    """
    Parameters for AbandonSession
    """
    input: AbandonSessionInput!
  ): AbandonSessionPayload

  """
  Book an appointment with a therapist
  """
  bookAppointment(
    """
    Parameters for BookAppointment
    """
    input: BookAppointmentInput!
  ): BookAppointmentPayload

  """
  Cancel an appointment
  """
  cancelAppointment(
    """
    Parameters for CancelAppointment
    """
    input: CancelAppointmentInput!
  ): CancelAppointmentPayload

  """
  Validate prerequisites and transition session to assessment_complete status
  """
  completeAssessment(
    """
    Parameters for CompleteAssessment
    """
    input: CompleteAssessmentInput!
  ): CompleteAssessmentPayload

  """
  Create a recurring availability slot for a therapist (admin only)
  """
  createAvailability(
    """
    Parameters for CreateAvailability
    """
    input: CreateAvailabilityInput!
  ): CreateAvailabilityPayload

  """
  Create a new anonymous onboarding session
  """
  createSession(
    """
    Device fingerprint for refresh token generation
    """
    deviceFingerprint: String

    """
    How the parent found Daybreak (e.g., Google, referral, social media)
    """
    referralSource: String
  ): CreateSessionPayload

  """
  Create a new therapist profile (admin only)
  """
  createTherapist(
    """
    Parameters for CreateTherapist
    """
    input: CreateTherapistInput!
  ): CreateTherapistPayload

  """
  Create a time-off period for a therapist (admin only)
  """
  createTimeOff(
    """
    Parameters for CreateTimeOff
    """
    input: CreateTimeOffInput!
  ): CreateTimeOffPayload

  """
  Delete an availability slot (admin only)
  """
  deleteAvailability(
    """
    Parameters for DeleteAvailability
    """
    input: DeleteAvailabilityInput!
  ): DeleteAvailabilityPayload

  """
  Soft delete a therapist by setting active=false (admin only)
  """
  deleteTherapist(
    """
    Parameters for DeleteTherapist
    """
    input: DeleteTherapistInput!
  ): DeleteTherapistPayload

  """
  Delete a time-off period (admin only)
  """
  deleteTimeOff(
    """
    Parameters for DeleteTimeOff
    """
    input: DeleteTimeOffInput!
  ): DeleteTimeOffPayload

  """
  Refresh access token using a valid refresh token. Implements token rotation for security.
  """
  refreshToken(
    """
    Device fingerprint for security tracking
    """
    deviceFingerprint: String

    """
    The refresh token received from createSession or previous refresh
    """
    refreshToken: String!
  ): RefreshTokenPayload

  """
  Request to speak with a human during the onboarding process.

  This mutation flags the session for human follow-up and notifies the care team.
  The parent can optionally provide a reason for the escalation request.

  The onboarding conversation can continue with AI assistance while waiting
  for human contact, and all collected data is preserved.

  **Authorization:** Requires valid session token. Users can only request
  human contact for their own sessions.

  **Idempotency:** Calling this mutation on an already escalated session
  will succeed without duplicate notifications.
  """
  requestHumanContact(
    """
    Parameters for RequestHumanContact
    """
    input: RequestHumanContactInput!
  ): RequestHumanContactPayload

  """
  Request session recovery via email magic link
  """
  requestSessionRecovery(
    """
    Parameters for RequestRecovery
    """
    input: RequestRecoveryInput!
  ): RequestRecoveryPayload

  """
  Reschedule an appointment to a new time
  """
  rescheduleAppointment(
    """
    Parameters for RescheduleAppointment
    """
    input: RescheduleAppointmentInput!
  ): RescheduleAppointmentPayload

  """
  Save payment plan selection for billing integration (no payment processing)
  """
  savePaymentPlanSelection(
    """
    Parameters for SavePaymentPlanSelection
    """
    input: SavePaymentPlanSelectionInput!
  ): SavePaymentPlanSelectionPayload

  """
  Select self-pay option for a session
  """
  selectSelfPay(
    """
    Parameters for SelectSelfPay
    """
    input: SelectSelfPayInput!
  ): SelectSelfPayPayload

  """
  Record parent's therapist selection for analytics
  """
  selectTherapist(
    """
    Parameters for SelectTherapist
    """
    input: SelectTherapistInput!
  ): SelectTherapistPayload

  """
  Send a message in the conversational intake
  """
  sendMessage(
    """
    Message content from user
    """
    content: String!

    """
    Session ID (with sess_ prefix)
    """
    sessionId: ID!
  ): SendMessagePayload

  """
  Submit a response to a screening assessment question
  """
  submitAssessmentResponse(
    """
    Question ID (e.g., phq_a_1)
    """
    questionId: String!

    """
    Natural language response
    """
    responseText: String!

    """
    Optional explicit Likert value (0-3)
    """
    responseValue: Int

    """
    Session ID (with sess_ prefix)
    """
    sessionId: ID!
  ): SubmitResponsePayload

  """
  Submit child information during intake
  """
  submitChildInfo(
    """
    Child information to save
    """
    child_info: ChildInput!

    """
    Session ID (CUID format with sess_ prefix)
    """
    session_id: ID!
  ): SubmitChildInfoPayload

  """
  Submit or update insurance information manually
  """
  submitInsuranceInfo(
    """
    Group number (4-15 alphanumeric)
    """
    groupNumber: String

    """
    Member ID (6-20 alphanumeric)
    """
    memberId: String

    """
    Insurance payer/company name
    """
    payerName: String

    """
    Session ID
    """
    sessionId: ID!

    """
    Subscriber date of birth (YYYY-MM-DD)
    """
    subscriberDob: String

    """
    Name on insurance policy
    """
    subscriberName: String
  ): SubmitInfoPayload

  """
  Submit parent/guardian information during intake
  """
  submitParentInfo(
    """
    Parent information to save
    """
    parentInfo: ParentInput!

    """
    Session ID (CUID format with sess_ prefix)
    """
    sessionId: ID!
  ): SubmitParentInfoPayload

  """
  Submit patient availability time blocks for scheduling
  """
  submitPatientAvailability(
    """
    Parameters for SubmitPatientAvailability
    """
    input: SubmitPatientAvailabilityInput!
  ): SubmitPatientAvailabilityPayload

  """
  Switch from self-pay back to insurance verification
  """
  switchToInsurance(
    """
    Parameters for SwitchToInsurance
    """
    input: SwitchToInsuranceInput!
  ): SwitchToInsurancePayload

  """
  Update an existing availability slot (admin only)
  """
  updateAvailability(
    """
    Parameters for UpdateAvailability
    """
    input: UpdateAvailabilityInput!
  ): UpdateAvailabilityPayload

  """
  Manually override deductible and OOP tracking data with audit trail
  """
  updateDeductibleOverride(
    """
    Parameters for UpdateDeductibleOverride
    """
    input: UpdateDeductibleOverrideInput!
  ): UpdateDeductibleOverridePayload

  """
  Update session progress and extend expiration
  """
  updateSessionProgress(
    """
    Parameters for UpdateSessionProgress
    """
    input: UpdateSessionProgressInput!
  ): UpdateSessionProgressPayload

  """
  Update an existing therapist profile (admin only)
  """
  updateTherapist(
    """
    Parameters for UpdateTherapist
    """
    input: UpdateTherapistInput!
  ): UpdateTherapistPayload

  """
  Upload insurance card images (front and optional back)
  """
  uploadInsuranceCard(
    """
    Back image of insurance card (optional)
    """
    backImage: Upload

    """
    Front image of insurance card
    """
    frontImage: Upload!

    """
    Session ID (CUID format with sess_ prefix)
    """
    sessionId: ID!
  ): UploadCardPayload

  """
  Initiate insurance eligibility verification
  """
  verifyEligibility(
    """
    The insurance record ID to verify
    """
    insuranceId: ID!
  ): VerifyEligibilityPayload
}

"""
An onboarding session for parent intake
"""
type OnboardingSession {
  """
  Booked appointment (if any)
  """
  appointment: Appointment

  """
  Assessment data
  """
  assessment: Assessment

  """
  Child information
  """
  child: Child

  """
  Stored cost calculation breakdown for this session
  """
  costEstimate: CostBreakdown

  """
  When session was created
  """
  createdAt: ISO8601DateTime!

  """
  Current payment method: "insurance" or "self_pay"
  """
  currentPaymentMethod: String!

  """
  When escalation was requested
  """
  escalationRequestedAt: ISO8601DateTime

  """
  When session will expire
  """
  expiresAt: ISO8601DateTime!

  """
  Unique session identifier (CUID format with sess_ prefix)
  """
  id: ID!

  """
  Insurance information
  """
  insurance: Insurance

  """
  Chat messages in assessment conversation
  """
  messages: [Message!]

  """
  Whether parent has requested to speak with a human
  """
  needsHumanContact: Boolean!

  """
  Parent/guardian information
  """
  parent: Parent

  """
  Selected payment plan (if any)
  """
  paymentPlan: PaymentPlan

  """
  Calculated progress indicators
  """
  progress: Progress!

  """
  Session progress data
  """
  progressData: JSON!

  """
  How the parent found Daybreak
  """
  referralSource: String

  """
  Current session status
  """
  status: String!

  """
  When session was last updated
  """
  updatedAt: ISO8601DateTime!
}

"""
Package pricing option with savings
"""
type PackageOption {
  """
  Package description
  """
  description: String!

  """
  Cost per session in package
  """
  perSessionCost: String!

  """
  Amount saved compared to individual sessions
  """
  savings: String!

  """
  Number of sessions in package
  """
  sessions: Int!

  """
  Total package price
  """
  totalPrice: String!
}

"""
Parent or guardian information
"""
type Parent {
  """
  When record was created
  """
  createdAt: ISO8601DateTime!

  """
  Parent email address (encrypted)
  """
  email: String!

  """
  Parent first name (encrypted)
  """
  firstName: String!

  """
  Unique identifier
  """
  id: ID!

  """
  Whether parent is legal guardian
  """
  isGuardian: Boolean!

  """
  Parent last name (encrypted)
  """
  lastName: String!

  """
  Parent phone number (encrypted)
  """
  phone: String!

  """
  Relationship to child (parent, guardian, etc.)
  """
  relationship: String!

  """
  When record was last updated
  """
  updatedAt: ISO8601DateTime!
}

"""
Input for submitting parent/guardian information
"""
input ParentInput {
  """
  Parent's email address (RFC 5322 format)
  """
  email: String!

  """
  Parent's first name
  """
  firstName: String!

  """
  Whether this person is the legal guardian
  """
  isGuardian: Boolean!

  """
  Parent's last name
  """
  lastName: String!

  """
  Parent's phone number (E.164 format, e.g., +15551234567)
  """
  phone: String!

  """
  Relationship to child: parent, guardian, grandparent, foster_parent, or other
  """
  relationship: String!
}

"""
A patient's availability time block for scheduling
"""
type PatientAvailability {
  """
  When this was created
  """
  createdAt: ISO8601DateTime!

  """
  Human-readable day name (e.g., 'Monday')
  """
  dayName: String!

  """
  Day of week (0=Sunday, 6=Saturday)
  """
  dayOfWeek: Int!

  """
  Duration in minutes
  """
  durationMinutes: Int!

  """
  Unique identifier
  """
  id: ID!

  """
  ID of the onboarding session
  """
  onboardingSessionId: ID!

  """
  Start time (HH:MM format)
  """
  startTime: String!

  """
  IANA timezone (e.g., America/Los_Angeles)
  """
  timezone: String!
}

"""
Input for a single patient availability time block
"""
input PatientAvailabilityInput {
  """
  Day of week (0=Sunday, 1=Monday, ..., 6=Saturday)
  """
  day_of_week: Int!

  """
  Duration in minutes (default: 60)
  """
  duration_minutes: Int = 60

  """
  Start time in HH:MM format (e.g., '09:00')
  """
  start_time: String!
}

"""
Payment method options for therapy services
"""
enum PaymentMethodEnum {
  """
  Direct bank account transfer (ACH)
  """
  BANK_TRANSFER

  """
  Credit or debit card (Visa, Mastercard, Amex, Discover)
  """
  CARD

  """
  Health Savings Account or Flexible Spending Account
  """
  HSA_FSA
}

"""
Payment plan selection for billing integration
"""
type PaymentPlan {
  """
  When the plan was created
  """
  createdAt: ISO8601DateTime!

  """
  Human-readable plan description
  """
  description: String!

  """
  Discount amount applied in USD
  """
  discountApplied: Float!

  """
  Payment plan ID
  """
  id: ID!

  """
  Monthly payment amount in USD
  """
  monthlyAmount: Float!

  """
  Preferred payment method
  """
  paymentMethodPreference: PaymentMethodEnum!

  """
  Plan duration in months (0 for upfront)
  """
  planDurationMonths: Int!

  """
  Payment plan status (pending, active, completed, cancelled)
  """
  status: String!

  """
  Total cost in USD
  """
  totalAmount: Float!

  """
  When the plan was last updated
  """
  updatedAt: ISO8601DateTime!
}

"""
Payment plan option with cost breakdown
"""
type PaymentPlanOption {
  """
  Human-readable plan description
  """
  description: String!

  """
  Plan duration in months (0 for upfront payment)
  """
  durationMonths: Int!

  """
  Total fees/interest amount in USD
  """
  feeAmount: Float!

  """
  Whether this plan has interest or service fees
  """
  hasFees: Boolean!

  """
  Annual interest rate as percentage (e.g., 5.0 for 5%)
  """
  interestRate: Float!

  """
  Monthly payment amount in USD
  """
  monthlyAmount: Float!

  """
  Total cost including any interest/fees in USD
  """
  totalAmount: Float!

  """
  Discount percentage for upfront payment (null for monthly plans)
  """
  upfrontDiscount: Float
}

"""
Progress indicators for onboarding session
"""
type Progress {
  """
  Array of completed phase names
  """
  completedPhases: [String!]!

  """
  Current phase in the onboarding flow
  """
  currentPhase: String!

  """
  Estimated minutes to complete remaining phases (adaptive)
  """
  estimatedMinutesRemaining: Int!

  """
  Next phase in the sequence (null if at end)
  """
  nextPhase: String

  """
  Progress percentage (0-100) based on completed required fields
  """
  percentage: Int!
}

"""
Autogenerated return type of ProgressUpdated.
"""
type ProgressUpdatedPayload {
  """
  Array of completed phase names
  """
  completedPhases: [String!]!

  """
  Current phase in onboarding flow
  """
  currentPhase: String!

  """
  Estimated minutes remaining
  """
  estimatedMinutesRemaining: Int!

  """
  Next phase in sequence (null if at end)
  """
  nextPhase: String

  """
  Progress percentage (0-100)
  """
  percentage: Int!
}

"""
Quick reply suggestion option for chat interface
"""
type QuickReplyOption {
  """
  Optional emoji or icon
  """
  icon: String

  """
  Display text for the button
  """
  label: String!

  """
  Value sent when selected (usually same as label)
  """
  value: String!
}

type Query {
  """
  Get assessment for a session
  """
  assessment(
    """
    Session ID
    """
    sessionId: ID!
  ): Assessment

  """
  Get all assessment questions for a child's age
  """
  assessmentQuestions(
    """
    Child's age in years
    """
    childAge: Int!

    """
    Optional: 'phq_a' or 'gad_7'
    """
    instrument: String
  ): [AssessmentQuestion!]!

  """
  Get available appointment slots for a therapist within a date range
  """
  availableSlots(
    """
    End date of the range
    """
    endDate: ISO8601Date!

    """
    Start date of the range
    """
    startDate: ISO8601Date!

    """
    Therapist ID
    """
    therapistId: ID!

    """
    Timezone for results (default: UTC)
    """
    timezone: String = "UTC"
  ): [TimeSlot!]!

  """
  Calculate therapy session cost with detailed breakdown
  """
  calculateCost(
    """
    Discount code (PERCENTAGE_XX, FIXED_XXX, HARDSHIP_XX)
    """
    discountCode: String

    """
    Session duration in minutes (default: 50)
    """
    duration: Int

    """
    Service type (intake, individual_therapy, family_therapy, onsite_care)
    """
    serviceType: String!

    """
    Onboarding session ID (for authorization)
    """
    sessionId: ID!

    """
    Array of special service codes (telehealth_setup, translation, etc.)
    """
    specialServices: [String!]

    """
    Therapist tier (standard, senior, lead, specialist)
    """
    therapistTier: String
  ): CostBreakdown!

  """
  Get support contact options for requesting human assistance
  """
  contactOptions: ContactOptions!

  """
  Get cost comparison between insurance and self-pay for a session
  """
  costComparison(
    """
    Session ID
    """
    sessionId: ID!
  ): CostComparison!
  deductibleStatus(
    """
    ID of the onboarding session with insurance to track
    """
    sessionId: ID!
  ): DeductibleStatus

  """
  Get financial assistance program information
  """
  financialAssistanceInfo: FinancialAssistance!

  """
  Generate PHI-safe onboarding context for Intercom support agents
  """
  generateIntercomContext(
    """
    Session ID to generate context for
    """
    sessionId: ID!
  ): IntercomContext!
  insuranceCostEstimate(
    """
    Type of service (default: individual_therapy)
    """
    serviceType: String

    """
    ID of the onboarding session with insurance to estimate
    """
    sessionId: ID!
  ): CostEstimate

  """
  Get Intercom identity verification data for secure widget initialization
  """
  intercomIdentity(
    """
    Session ID to generate identity for
    """
    sessionId: ID!
  ): IntercomIdentity!

  """
  Get matched therapists for a session (frontend-friendly format)
  """
  matchedTherapists(
    """
    Session ID
    """
    sessionId: ID!
  ): TherapistMatchResultsWrapper

  """
  Get patient availability time blocks for a session
  """
  patientAvailability(
    """
    Session ID
    """
    sessionId: ID!
  ): [PatientAvailability!]!

  """
  Get payment plan options for estimated cost
  """
  paymentPlanOptions(
    """
    Estimated total cost in USD
    """
    estimatedCost: Float!

    """
    Session ID
    """
    sessionId: ID!
  ): [PaymentPlanOption!]!

  """
  Get session by ID
  """
  session(
    """
    Session ID
    """
    id: ID!
  ): OnboardingSession!

  """
  Recover session using magic link token
  """
  sessionByRecoveryToken(
    """
    Recovery token from email magic link
    """
    recoveryToken: String!
  ): SessionRecoveryPayload!

  """
  Get AI-generated quick reply suggestions based on conversation context
  """
  suggestedReplies(
    """
    Optional message ID to base suggestions on (defaults to latest)
    """
    messageId: ID

    """
    Onboarding session ID
    """
    sessionId: ID!
  ): [QuickReplyOption!]!

  """
  Get support request analytics (admin only)
  """
  supportAnalytics(
    """
    Optional end date filter
    """
    endDate: ISO8601Date

    """
    Optional start date filter
    """
    startDate: ISO8601Date
  ): SupportAnalytics!

  """
  Get support requests for a session
  """
  supportRequests(
    """
    Session ID
    """
    sessionId: ID!
  ): [SupportRequest!]!

  """
  Get a single therapist by ID
  """
  therapist(
    """
    Therapist ID
    """
    id: ID!
  ): Therapist

  """
  Get therapist availability grouped by date for scheduling calendar
  """
  therapistAvailability(
    """
    End date of the range
    """
    endDate: ISO8601DateTime!

    """
    Optional session ID to filter by patient availability overlap
    """
    sessionId: ID

    """
    Start date of the range
    """
    startDate: ISO8601DateTime!

    """
    Therapist ID
    """
    therapistId: ID!

    """
    Timezone for results
    """
    timezone: String = "UTC"
  ): TherapistAvailabilityResult!

  """
  Get AI-matched therapist recommendations for a session
  """
  therapistMatches(
    """
    Onboarding session ID
    """
    sessionId: ID!
  ): [TherapistMatchResult!]!

  """
  Get detailed therapist profile with match-specific data
  """
  therapistProfile(
    """
    Session ID for match-specific data
    """
    sessionId: ID!

    """
    Therapist ID
    """
    therapistId: ID!
  ): TherapistProfile

  """
  List therapists with optional filters
  """
  therapists(
    """
    Filter by active status
    """
    active: Boolean

    """
    Filter by insurance panel name
    """
    insuranceName: String

    """
    Filter by specialization
    """
    specialization: String

    """
    Filter by license state
    """
    state: String
  ): [Therapist!]!
}

"""
Autogenerated return type of RefreshToken.
"""
type RefreshTokenPayload {
  """
  Error message if refresh failed
  """
  error: String

  """
  Access token expiration in seconds
  """
  expiresIn: Int

  """
  New refresh token (old one is invalidated)
  """
  refreshToken: String

  """
  Whether the refresh was successful
  """
  success: Boolean!

  """
  New JWT access token
  """
  token: String

  """
  Token type (Bearer)
  """
  tokenType: String
}

"""
Autogenerated input type of RequestHumanContact
"""
input RequestHumanContactInput {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  Optional reason for requesting human assistance (PHI-encrypted)
  """
  reason: String

  """
  The ID of the session requesting human contact
  """
  sessionId: ID!
}

"""
Autogenerated return type of RequestHumanContact.
"""
type RequestHumanContactPayload {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  The session with escalation status updated
  """
  session: OnboardingSession!

  """
  Indicates if the escalation request was successful
  """
  success: Boolean!
}

"""
Autogenerated input type of RequestRecovery
"""
input RequestRecoveryInput {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  ID of the session to recover
  """
  sessionId: ID!
}

"""
Autogenerated return type of RequestRecovery.
"""
type RequestRecoveryPayload {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  Human-readable message
  """
  message: String!

  """
  Whether the request was successful
  """
  success: Boolean!
}

"""
Autogenerated input type of RescheduleAppointment
"""
input RescheduleAppointmentInput {
  """
  Appointment ID to reschedule
  """
  appointmentId: ID!

  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  New appointment date and time
  """
  newScheduledAt: ISO8601DateTime!
}

"""
Autogenerated return type of RescheduleAppointment.
"""
type RescheduleAppointmentPayload {
  """
  New appointment
  """
  appointment: Appointment

  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  Errors encountered during rescheduling
  """
  errors: [String!]!

  """
  Whether rescheduling was successful
  """
  success: Boolean!
}

"""
Autogenerated input type of SavePaymentPlanSelection
"""
input SavePaymentPlanSelectionInput {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  Discount amount applied in USD (optional)
  """
  discountApplied: Float

  """
  Monthly payment amount in USD
  """
  monthlyAmount: Float!

  """
  Preferred payment method
  """
  paymentMethodPreference: PaymentMethodEnum!

  """
  Selected plan duration in months (0 for upfront)
  """
  planDurationMonths: Int!

  """
  Session ID to link payment plan to
  """
  sessionId: ID!

  """
  Total cost in USD
  """
  totalAmount: Float!
}

"""
Autogenerated return type of SavePaymentPlanSelection.
"""
type SavePaymentPlanSelectionPayload {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  Success or error message
  """
  message: String

  """
  Created payment plan
  """
  paymentPlan: PaymentPlan!

  """
  Whether the operation succeeded
  """
  success: Boolean!
}

"""
Autogenerated input type of SelectSelfPay
"""
input SelectSelfPayInput {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  Session ID
  """
  sessionId: ID!
}

"""
Autogenerated return type of SelectSelfPay.
"""
type SelectSelfPayPayload {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String
  session: OnboardingSession!
  success: Boolean!
}

"""
Autogenerated input type of SelectTherapist
"""
input SelectTherapistInput {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  Onboarding session ID
  """
  sessionId: ID!

  """
  Selected therapist ID
  """
  therapistId: ID!
}

"""
Autogenerated return type of SelectTherapist.
"""
type SelectTherapistPayload {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  Any error messages
  """
  errors: [String!]!

  """
  Whether selection was recorded successfully
  """
  success: Boolean!

  """
  Updated match record with selection
  """
  therapistMatch: TherapistMatch
}

"""
Self-pay cost estimate with transparent pricing
"""
type SelfPayEstimate {
  """
  Base rate per session (e.g., '$50 per session')
  """
  baseRate: String!

  """
  Package pricing options with savings
  """
  packageOptions: [PackageOption!]!

  """
  Information about sliding scale discounts if available
  """
  slidingScaleInfo: String

  """
  Total cost for typical treatment (8-12 sessions)
  """
  totalForTypicalTreatment: String!

  """
  No hidden fees message
  """
  transparentPricingMessage: String!

  """
  Services included in the rate
  """
  whatIsIncluded: [String!]!

  """
  Services not included in the rate
  """
  whatIsNotIncluded: [String!]!
}

"""
Self-pay option preview (always available)
"""
type SelfPayOption {
  """
  Whether self-pay is available (always true)
  """
  available: Boolean!

  """
  Self-pay option description
  """
  description: String!

  """
  Preview of self-pay rates
  """
  previewRate: String
}

"""
Autogenerated return type of SendMessage.
"""
type SendMessagePayload {
  """
  Whether the assessment chat is complete and user can proceed
  """
  assessmentComplete: Boolean!

  """
  The AI assistant's response
  """
  assistantMessage: Message

  """
  Errors if mutation failed
  """
  errors: [String!]!

  """
  The user's message
  """
  userMessage: Message
}

"""
Response from session recovery
"""
type SessionRecoveryPayload {
  """
  New refresh token for token renewal
  """
  refreshToken: String!

  """
  Recovered session with full progress
  """
  session: OnboardingSession!

  """
  New JWT authentication token for this session
  """
  token: String!
}

"""
Autogenerated return type of SessionUpdated.
"""
type SessionUpdatedPayload {
  """
  The updated session
  """
  session: OnboardingSession!
}

"""
Autogenerated return type of SubmitChildInfo.
"""
type SubmitChildInfoPayload {
  """
  Created or updated child record
  """
  child: Child

  """
  List of validation errors
  """
  errors: [String!]!

  """
  Updated session with progress
  """
  session: OnboardingSession
}

"""
Autogenerated return type of SubmitInfo.
"""
type SubmitInfoPayload {
  """
  List of validation errors
  """
  errors: [FieldError!]!

  """
  Updated insurance record
  """
  insurance: Insurance

  """
  Whether fields were pre-populated from OCR data
  """
  prePopulatedFromOcr: Boolean!
}

"""
Autogenerated return type of SubmitParentInfo.
"""
type SubmitParentInfoPayload {
  """
  List of validation errors
  """
  errors: [String!]!

  """
  Created or updated parent record
  """
  parent: Parent
}

"""
Autogenerated input type of SubmitPatientAvailability
"""
input SubmitPatientAvailabilityInput {
  """
  Array of availability time blocks
  """
  availabilities: [PatientAvailabilityInput!]!

  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  IANA timezone (e.g., America/Los_Angeles)
  """
  timezone: String!
}

"""
Autogenerated return type of SubmitPatientAvailability.
"""
type SubmitPatientAvailabilityPayload {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  Error messages if any
  """
  errors: [String!]!

  """
  The created availability blocks
  """
  patientAvailabilities: [PatientAvailability!]

  """
  Whether the operation succeeded
  """
  success: Boolean!
}

"""
Autogenerated return type of SubmitResponse.
"""
type SubmitResponsePayload {
  """
  Updated assessment
  """
  assessment: Assessment

  """
  Validation errors
  """
  errors: [String!]!

  """
  Next question to ask
  """
  nextQuestion: AssessmentQuestion

  """
  Assessment progress
  """
  progress: AssessmentProgress
}

type Subscription {
  """
  Subscribe to assessment progress updates
  """
  assessmentUpdated(
    """
    Session ID (with sess_ prefix)
    """
    sessionId: ID!
  ): AssessmentUpdatedPayload!

  """
  Subscribe to insurance status changes for a session
  """
  insuranceStatusChanged(
    """
    The session ID to subscribe to
    """
    sessionId: ID!
  ): InsuranceStatusChangedPayload!

  """
  Subscribe to new messages in a conversation
  """
  messageReceived(
    """
    Session ID (with sess_ prefix)
    """
    sessionId: ID!
  ): MessageReceivedPayload!

  """
  Subscribe to progress updates for a specific session
  """
  progressUpdated(
    """
    The session ID to subscribe to
    """
    sessionId: ID!
  ): ProgressUpdatedPayload!

  """
  Subscribe to updates for a specific session
  """
  sessionUpdated(
    """
    The session ID to subscribe to
    """
    sessionId: ID!
  ): SessionUpdatedPayload!
}

type SupportAnalytics {
  """
  Average time to resolution in hours
  """
  averageResolutionTime: Float

  """
  Support requests grouped by onboarding session status
  """
  requestsBySessionStatus: JSON!

  """
  Support requests grouped by source widget location
  """
  requestsBySource: JSON!

  """
  Percentage of resolved requests (0-100)
  """
  resolutionRate: Float!

  """
  Number of unique sessions that contacted support
  """
  sessionsWithSupport: Int!

  """
  Total number of support requests
  """
  totalRequests: Int!
}

"""
Support contact information for insurance issues
"""
type SupportContact {
  """
  Contact email address
  """
  email: String!

  """
  Availability hours
  """
  hours: String!

  """
  Contact phone number
  """
  phone: String!

  """
  Contact type: 'general' or 'specialist'
  """
  type: String!
}

type SupportRequest {
  """
  When the support request was created
  """
  createdAt: ISO8601DateTime!

  """
  Support request ID
  """
  id: ID!

  """
  Intercom conversation ID
  """
  intercomConversationId: String

  """
  Whether the support request has been resolved
  """
  resolved: Boolean!

  """
  Onboarding session ID
  """
  sessionId: ID!

  """
  Source widget location (e.g., welcome-screen, insurance-verification)
  """
  source: String!

  """
  When the support request was last updated
  """
  updatedAt: ISO8601DateTime!
}

"""
Autogenerated input type of SwitchToInsurance
"""
input SwitchToInsuranceInput {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  Session ID
  """
  sessionId: ID!
}

"""
Autogenerated return type of SwitchToInsurance.
"""
type SwitchToInsurancePayload {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String
  session: OnboardingSession!
  success: Boolean!
}

"""
Therapist profile information
"""
type Therapist {
  """
  Whether therapist is active
  """
  active: Boolean!

  """
  Age ranges served (e.g., 5-12, 13-17)
  """
  ageRanges: [String!]!

  """
  Default appointment duration in minutes
  """
  appointmentDurationMinutes: Int!

  """
  Weekly recurring availability slots
  """
  availabilities: [TherapistAvailability!]!

  """
  Therapist biography
  """
  bio: String

  """
  Buffer time between appointments in minutes
  """
  bufferTimeMinutes: Int!

  """
  When record was created
  """
  createdAt: ISO8601DateTime!

  """
  Therapist email address
  """
  email: String

  """
  Therapist first name
  """
  firstName: String!

  """
  Full name (computed)
  """
  fullName: String!

  """
  Unique identifier
  """
  id: ID!

  """
  Insurance panels accepted
  """
  insurancePanels: [InsurancePanel!]!

  """
  Languages spoken (ISO 639-1 codes)
  """
  languages: [String!]!

  """
  Therapist last name
  """
  lastName: String!

  """
  License expiration date
  """
  licenseExpiration: ISO8601Date

  """
  License number
  """
  licenseNumber: String

  """
  State where licensed
  """
  licenseState: String

  """
  License type (LCSW, LMFT, LPCC, etc.)
  """
  licenseType: String

  """
  National Provider Identifier
  """
  npiNumber: String

  """
  Therapist phone number
  """
  phone: String

  """
  Profile photo URL
  """
  photoUrl: String

  """
  Clinical specializations
  """
  specializations: [String!]!

  """
  Time-off periods (vacations, blocked times)
  """
  timeOffs: [TherapistTimeOff!]!

  """
  Treatment modalities (CBT, DBT, EMDR, etc.)
  """
  treatmentModalities: [String!]!

  """
  When record was last updated
  """
  updatedAt: ISO8601DateTime!
}

"""
A recurring availability slot for a therapist
"""
type TherapistAvailability {
  """
  When this availability was created
  """
  createdAt: ISO8601DateTime!

  """
  Day of week (0=Sunday, 1=Monday, ..., 6=Saturday)
  """
  dayOfWeek: Int!

  """
  End time of availability (HH:MM:SS format)
  """
  endTime: String!

  """
  Unique identifier for the availability slot
  """
  id: ID!

  """
  Whether this is a recurring weekly availability
  """
  isRepeating: Boolean!

  """
  Start time of availability (HH:MM:SS format)
  """
  startTime: String!

  """
  ID of the therapist
  """
  therapistId: ID!

  """
  IANA timezone (e.g., America/Los_Angeles)
  """
  timezone: String!

  """
  When this availability was last updated
  """
  updatedAt: ISO8601DateTime!
}

"""
Therapist availability results grouped by date
"""
type TherapistAvailabilityResult {
  """
  List of dates with availability information
  """
  availableDates: [AvailableDate!]!

  """
  Therapist ID
  """
  therapistId: ID!

  """
  Therapist full name
  """
  therapistName: String!

  """
  Therapist photo URL
  """
  therapistPhotoUrl: String

  """
  Timezone for the availability data
  """
  timezone: String!
}

"""
Input for creating or updating therapist profiles
"""
input TherapistInput {
  """
  Whether therapist is active
  """
  active: Boolean

  """
  Age ranges served (e.g., ['5-12', '13-17'])
  """
  age_ranges: [String!]

  """
  Therapist biography
  """
  bio: String

  """
  Therapist's email address
  """
  email: String

  """
  Therapist's first name
  """
  first_name: String!

  """
  Languages spoken (ISO 639-1 codes)
  """
  languages: [String!]

  """
  Therapist's last name
  """
  last_name: String!

  """
  License expiration date
  """
  license_expiration: ISO8601Date

  """
  License number
  """
  license_number: String

  """
  State where licensed
  """
  license_state: String

  """
  License type (LCSW, LMFT, LPCC, etc.)
  """
  license_type: String

  """
  National Provider Identifier
  """
  npi_number: String

  """
  Therapist's phone number
  """
  phone: String

  """
  Profile photo URL
  """
  photo_url: String

  """
  Clinical specializations
  """
  specializations: [String!]

  """
  Treatment modalities (CBT, DBT, EMDR, etc.)
  """
  treatment_modalities: [String!]
}

"""
A therapist matching record for analytics
"""
type TherapistMatch {
  """
  When matching was performed
  """
  createdAt: ISO8601DateTime!

  """
  Criteria used for matching
  """
  criteriaUsed: JSON!

  """
  Match record ID
  """
  id: ID!

  """
  Array of matched therapist data with scores
  """
  matchedTherapists: JSON!

  """
  Session this match was performed for
  """
  onboardingSessionId: ID!

  """
  Time taken to perform matching (milliseconds)
  """
  processingTimeMs: Int!

  """
  Selected therapist profile
  """
  selectedTherapist: Therapist

  """
  ID of therapist selected by parent
  """
  selectedTherapistId: ID
}

"""
A therapist match result with score, reasoning, and availability
"""
type TherapistMatchResult {
  """
  Next 3-5 available appointment slots (lazy-loaded)
  """
  availableSlots: [TimeSlot!]!

  """
  Parent-friendly explanation of why this therapist matches
  """
  reasoning: String!

  """
  Overall match score (0-100)
  """
  score: Int!

  """
  Breakdown of individual scoring components
  """
  scoreBreakdown: MatchScoreBreakdown!

  """
  Matched therapist profile
  """
  therapist: Therapist!
}

"""
Therapist matching results wrapper
"""
type TherapistMatchResultsWrapper {
  """
  General explanation of matching criteria used
  """
  matchingCriteria: String

  """
  List of matched therapists (2-3 typically)
  """
  therapists: [MatchedTherapist!]!

  """
  Total number of therapists matched
  """
  totalCount: Int!
}

"""
Detailed therapist profile with match-specific data
"""
type TherapistProfile {
  """
  Therapeutic approach description
  """
  approach: String

  """
  Availability status (available, limited, unavailable)
  """
  availabilityStatus: String!

  """
  Human-readable availability text
  """
  availabilityText: String!

  """
  Next available appointment slots
  """
  availableSlots(
    """
    Maximum slots to return
    """
    limit: Int = 3
  ): [TimeSlot!]!

  """
  Detailed biography
  """
  bio: String

  """
  Professional certifications
  """
  certifications: [String!]!

  """
  Professional credentials (e.g., 'LMFT', 'PhD', 'LCSW')
  """
  credentials: String!

  """
  Education and degrees
  """
  education: [Education!]!

  """
  Therapist unique identifier
  """
  id: ID!

  """
  Languages spoken
  """
  languages: [String!]!

  """
  Reasons why this therapist was matched (requires session_id)
  """
  matchReasons(
    """
    Session ID for match-specific reasons
    """
    sessionId: ID!
  ): [MatchReason!]!

  """
  Full name of the therapist
  """
  name: String!

  """
  Professional photo URL
  """
  photoUrl: String

  """
  Specialty areas (e.g., 'Anxiety', 'Teen Issues', 'ADHD')
  """
  specialties: [String!]!

  """
  Years of professional experience
  """
  yearsOfExperience: Int
}

"""
A time-off period for a therapist (vacation, blocked time, etc.)
"""
type TherapistTimeOff {
  """
  When this time-off was created
  """
  createdAt: ISO8601DateTime!

  """
  End date of time-off period
  """
  endDate: ISO8601Date!

  """
  Unique identifier for the time-off period
  """
  id: ID!

  """
  Optional reason for time-off (e.g., vacation, conference)
  """
  reason: String

  """
  Start date of time-off period
  """
  startDate: ISO8601Date!

  """
  ID of the therapist
  """
  therapistId: ID!

  """
  When this time-off was last updated
  """
  updatedAt: ISO8601DateTime!
}

"""
A calculated available time slot (not backed by a database model)
"""
type TimeSlot {
  """
  Duration of the slot in minutes (appointment + buffer)
  """
  durationMinutes: Int!

  """
  End time of the available slot
  """
  endTime: ISO8601DateTime!

  """
  Start time of the available slot
  """
  startTime: ISO8601DateTime!

  """
  ID of the therapist for this slot
  """
  therapistId: ID!
}

"""
Autogenerated input type of UpdateAvailability
"""
input UpdateAvailabilityInput {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  Day of week (0=Sunday, 1=Monday, ..., 6=Saturday)
  """
  dayOfWeek: Int

  """
  End time (HH:MM format, e.g., 17:00)
  """
  endTime: String

  """
  ID of the availability slot to update
  """
  id: ID!

  """
  Whether this is a recurring weekly availability
  """
  isRepeating: Boolean

  """
  Start time (HH:MM format, e.g., 09:00)
  """
  startTime: String

  """
  IANA timezone (e.g., America/Los_Angeles)
  """
  timezone: String
}

"""
Autogenerated return type of UpdateAvailability.
"""
type UpdateAvailabilityPayload {
  """
  The updated availability slot
  """
  availability: TherapistAvailability

  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  List of validation errors, if any
  """
  errors: [String!]!
}

"""
Autogenerated input type of UpdateDeductibleOverride
"""
input UpdateDeductibleOverrideInput {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  Total deductible amount (optional - override total if provided)
  """
  deductibleAmount: Float

  """
  Amount of deductible met (optional - keeps existing if not provided)
  """
  deductibleMet: Float

  """
  Total OOP max amount (optional - override total if provided)
  """
  oopMaxAmount: Float

  """
  Amount of OOP max met (optional - keeps existing if not provided)
  """
  oopMet: Float

  """
  Reason for manual override (required for audit trail)
  """
  overrideReason: String!

  """
  Onboarding session ID
  """
  sessionId: ID!
}

"""
Autogenerated return type of UpdateDeductibleOverride.
"""
type UpdateDeductibleOverridePayload {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  List of errors if update failed
  """
  errors: [String!]!

  """
  Updated insurance record
  """
  insurance: Insurance
}

"""
Autogenerated input type of UpdateSessionProgress
"""
input UpdateSessionProgressInput {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  Progress data to merge
  """
  progress: JSON!

  """
  The session ID
  """
  sessionId: ID!
}

"""
Autogenerated return type of UpdateSessionProgress.
"""
type UpdateSessionProgressPayload {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String
  session: OnboardingSession!
}

"""
Autogenerated input type of UpdateTherapist
"""
input UpdateTherapistInput {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  Therapist ID
  """
  id: ID!

  """
  Updated therapist profile data
  """
  input: TherapistInput!
}

"""
Autogenerated return type of UpdateTherapist.
"""
type UpdateTherapistPayload {
  """
  A unique identifier for the client performing the mutation.
  """
  clientMutationId: String

  """
  Validation errors if any
  """
  errors: [String!]!

  """
  Whether update was successful
  """
  success: Boolean!

  """
  Updated therapist
  """
  therapist: Therapist
}

scalar Upload

"""
Autogenerated return type of UploadCard.
"""
type UploadCardPayload {
  """
  List of validation errors
  """
  errors: [String!]!

  """
  Updated insurance record with presigned URLs
  """
  insurance: Insurance
}

"""
Progress updates during eligibility verification
"""
type VerificationProgress {
  """
  User-friendly progress message
  """
  message: String!

  """
  Progress percentage (0, 33, 66, or 100)
  """
  percentage: Int!
}

"""
Autogenerated return type of VerifyEligibility.
"""
type VerifyEligibilityPayload {
  """
  Whether result was returned from cache (within 24 hours)
  """
  cached: Boolean!

  """
  List of validation errors
  """
  errors: [FieldError!]!

  """
  The updated insurance record with verification status
  """
  insurance: Insurance
}
